!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("VueDraggable",[],e):"object"==typeof exports?exports.VueDraggable=e():t.VueDraggable=e()}(this,function(){return function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);var i=function(){var t=document.querySelectorAll(".item-dropzone-area"),e=!0,r=!1,i=void 0;try{for(var n,s=t[Symbol.iterator]();!(e=(n=s.next()).done);e=!0){n.value.remove()}}catch(t){r=!0,i=t}finally{try{e||null==s.return||s.return()}finally{if(r)throw i}}},n=function(t,e,r){var i=!0,n=!1,s=void 0;try{for(var o,a=r[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var l=o.value;l!==e.owner&&"none"===l.getAttribute("aria-dropeffect")&&(l.setAttribute("aria-dropeffect","move"),l.setAttribute("tabindex","0"))}}catch(t){n=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw s}}var u=!0,c=!1,f=void 0;try{for(var d,h=t[Symbol.iterator]();!(u=(d=h.next()).done);u=!0){var g=d.value;g.parentNode!==e.owner&&g.getAttribute("aria-grabbed")&&(g.removeAttribute("aria-grabbed"),g.removeAttribute("tabindex"))}}catch(t){c=!0,f=t}finally{try{u||null==h.return||h.return()}finally{if(c)throw f}}},s=function(t,e,r){if(e.items.length){var i=!0,n=!1,s=void 0;try{for(var o,a=r[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){var l=o.value;"none"!==l.getAttribute("aria-dropeffect")&&(l.setAttribute("aria-dropeffect","none"),l.removeAttribute("tabindex"))}}catch(t){n=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(n)throw s}}var u=!0,c=!1,f=void 0;try{for(var d,h=t[Symbol.iterator]();!(u=(d=h.next()).done);u=!0){var g=d.value;g.getAttribute("aria-grabbed")?"true"===g.getAttribute("aria-grabbed")&&g.setAttribute("tabindex","0"):(g.setAttribute("aria-grabbed","false"),g.setAttribute("tabindex","0"))}}catch(t){c=!0,f=t}finally{try{u||null==h.return||h.return()}finally{if(c)throw f}}}},o=function(t){return t.ctrlKey||t.metaKey||t.shiftKey};function a(t){return function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var l=function(t){this.selections.owner||(this.selections.owner=t.parentNode),(this.defaultOptions.multipleDropzonesItemsDraggingEnabled||this.selections.owner===t.parentNode)&&(t.setAttribute("aria-grabbed","true"),this.selections.items=[].concat(a(this.selections.items),[t]))},u=function(t){t.setAttribute("aria-grabbed","false");for(var e=0;e<this.selections.items.length;e++)if(this.selections.items[e]===t){this.selections.items.splice(e,1);break}},c=function(){if(this.selections.items){this.selections.owner=null;var t=!0,e=!1,r=void 0;try{for(var i,n=this.selections.items[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){i.value.setAttribute("aria-grabbed","false")}}catch(t){e=!0,r=t}finally{try{t||null==n.return||n.return()}finally{if(e)throw r}}this.selections.items=[]}},f=function(){throw new Error("Requested D&D stop...")},d={previousTarget:null,dragoverCalls:0},h=function(t){this.selections.items.length&&t.preventDefault(),this.defaultOptions.showDropzoneAreas&&function(t){if(d.dragoverCalls%100==0||t.target!==d.previousTarget&&t.target&&"item-dropzone-area"!==t.target.className){d.dragoverCalls++,d.previousTarget=t.target,this.nextItemElement=t.target.closest(this.defaultOptions.draggableSelector),this.selections.droptarget=t.target.closest(this.defaultOptions.dropzoneSelector);var e=document.createElement("div");e.className="item-dropzone-area",i(),this.selections.droptarget&&this.nextItemElement&&this.selections.droptarget.insertBefore(e,d.previousTarget.closest(this.defaultOptions.draggableSelector)),this.selections.droptarget&&!this.nextItemElement&&this.selections.droptarget.appendChild(e)}}.bind(this)(t)};function g(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var b=function(t){var e=t.target.closest(this.defaultOptions.draggableSelector);if(this.defaultOptions.multipleDropzonesItemsDraggingEnabled||!e||this.selections.owner===e.parentNode){if("function"==typeof this.defaultOptions.onDragstart)try{this.defaultOptions.onDragstart(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),i.forEach(function(e){g(t,e,r[e])})}return t}({nativeEvent:t,stop:f},this.selections))}catch(e){return t.preventDefault(),void i()}o(t)&&"false"===e.getAttribute("aria-grabbed")&&l.bind(this)(e),t.dataTransfer.setData("text",""),n(this.items,this.selections,this.targets)}else t.preventDefault()};function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),i.forEach(function(e){m(t,e,r[e])})}return t}function m(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var v=function(t){var e=this;t.addEventListener("mousedown",function(t){this.defaultOptions.handlerSelector&&!t.target.closest(this.defaultOptions.handlerSelector)&&t.preventDefault();var e=t.target.closest(this.defaultOptions.draggableSelector);e&&e.getAttribute("draggable")?(s(this.items,this.selections,this.targets),o(t)||"false"!==e.getAttribute("aria-grabbed")||(c.bind(this)(),l.bind(this)(e))):o(t)?s(this.items,this.selections,this.targets):(s(this.items,this.selections,this.targets),c.bind(this)())}.bind(this),!1),t.addEventListener("mouseup",function(t){var e=this,r=t.target.closest(this.defaultOptions.draggableSelector);if(r&&r.getAttribute("draggable")&&o(t))if(this.selections.items.length&&t.shiftKey){var i=this.selections.items.slice(-1).pop();this.items.forEach(function(t){(function(t,e,r){return t.parentNode===e.parentNode&&(e.offsetTop>r.offsetTop&&t.offsetTop<=e.offsetTop&&t.offsetTop>=r.offsetTop||t.offsetTop>=e.offsetTop&&t.offsetTop<=r.offsetTop)})(t,r,i)&&l.bind(e)(t)})}else"true"===r.getAttribute("aria-grabbed")?(u.bind(this)(r),this.selections.items.length||(this.selections.owner=null)):l.bind(this)(r)}.bind(this),!1),t.addEventListener("dragstart",b.bind(this),!1),t.addEventListener("keydown",function(t){if(t.target.getAttribute("aria-grabbed")&&(32===t.keyCode&&(o(t)?"true"===t.target.getAttribute("aria-grabbed")?(1===this.selections.items.length&&s(this.items,this.selections,this.targets),u.bind(this)(t.target),this.selections.items.length&&n(this.items,this.selections,this.targets),this.selections.items.length||(this.selections.owner=null)):(l.bind(this)(t.target),n(this.items,this.selections,this.targets)):"false"===t.target.getAttribute("aria-grabbed")?(s(this.items,this.selections,this.targets),c.bind(this)(),l.bind(this)(t.target),n(this.items,this.selections,this.targets)):n(this.items,this.selections,this.targets),t.preventDefault()),77===t.keyCode&&o(t))){if(this.selections.items.length)if(n(this.items,this.selections,this.targets),this.selections.owner===this.targets[this.targets.length-1])this.targets[0].focus();else for(var e=0;e<this.targets.length;e++)if(this.selections.owner===this.targets[e]){this.targets[e+1].focus();break}t.preventDefault()}if(27===t.keyCode&&this.selections.items.length&&(s(this.items,this.selections,this.targets),this.selections.items[this.selections.items.length-1].focus(),c.bind(this)()),t.target.getAttribute("aria-dropeffect")&&(13===t.keyCode||77===t.keyCode&&o(t))){for(var r=0;r<this.selections.items.length;r++)t.target.appendChild(this.selections.items[r]);s(this.items,this.selections,this.targets),this.selections.items[this.selections.items.length-1].focus(),c.bind(this)(),t.preventDefault()}}.bind(this),!1),t.addEventListener("dragenter",function(t){return function(t){this.related=t.target}.bind(e)(t)},!1),t.addEventListener("dragleave",function(){var t=function(t){var e=t;do{if(e&&1===e.nodeType&&e.getAttribute("aria-dropeffect"))return e}while(e=e?e.parentNode:null);return null}(this.related);t!==this.selections.droptarget&&(this.selections.droptarget&&(this.selections.droptarget.className=this.selections.droptarget.className.replace(/ dragover/g,"")),t&&(t.className+=" dragover"),this.selections.droptarget=t)}.bind(this),!1),document.addEventListener("dragover",h.bind(this),!1),t.addEventListener("dragend",function(t){if("function"==typeof this.defaultOptions.onDragend)try{this.defaultOptions.onDragend(p({nativeEvent:t,stop:f},this.selections))}catch(t){return void i()}if(this.selections.droptarget){for(var e=0;e<this.selections.items.length;e++)this.nextItemElement?this.selections.droptarget.insertBefore(this.selections.items[e],this.nextItemElement):this.selections.droptarget.appendChild(this.selections.items[e]);"function"==typeof this.defaultOptions.onDrop&&this.defaultOptions.onDrop(p({nativeEvent:t,stop:function(){throw new Error("Stop method is available only for callbacks\n                    'onDragstart' and 'onDragend'. For more info look at\n                    https://github.com/Vivify-Ideas/vue-draggable/blob/master/README.md\n                  ")}},this.selections)),t.preventDefault()}this.selections.items.length&&(s(this.items,this.selections,this.targets),this.selections.droptarget&&(c.bind(this)(),this.selections.droptarget.className=this.selections.droptarget.className.replace(/ dragover/g,""),this.selections.droptarget=null)),i()}.bind(this),!1)};function y(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var O=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),i.forEach(function(e){y(t,e,r[e])})}return t}({},{defaultOptions:{dropzoneSelector:"ul",draggableSelector:"li",handlerSelector:null,multipleDropzonesItemsDraggingEnabled:!0,showDropzoneAreas:!0,onDrop:function(){},onDragstart:function(){},onDragend:function(){}}},{targets:null,items:null,nextItemElement:null,related:null,selections:{items:[],owner:null,droptarget:null}},{registerListeners:function(t){v.bind(this)(t)},initiate:function(t){(function(t){this.targets=function(t){return t.querySelectorAll(this.defaultOptions.dropzoneSelector)}.bind(this)(t),this.items=function(t){return t.querySelectorAll(this.defaultOptions.draggableSelector)}.bind(this)(t);var e=!0,r=!1,i=void 0;try{for(var n,s=this.targets[Symbol.iterator]();!(e=(n=s.next()).done);e=!0)n.value.setAttribute("aria-dropeffect","none")}catch(t){r=!0,i=t}finally{try{e||null==s.return||s.return()}finally{if(r)throw i}}var o=!0,a=!1,l=void 0;try{for(var u,c=this.items[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var f=u.value;f.setAttribute("draggable","true"),f.setAttribute("aria-grabbed","false"),f.setAttribute("tabindex","0")}}catch(t){a=!0,l=t}finally{try{o||null==c.return||c.return()}finally{if(a)throw l}}}).bind(this)(t)}});r.d(e,"VueDraggableDirective",function(){return w});var w={bind:function(t,e){Object.assign(O.defaultOptions,e.value),O.registerListeners(t),O.initiate(t)},componentUpdated:function(t){setTimeout(function(){O.initiate(t)})}};O.install=function(t){t.directive("drag-and-drop",w)};e.default=O}])});
//# sourceMappingURL=vue-draggable.min.js.map