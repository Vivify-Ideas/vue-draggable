!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("VueDraggable",[],e):"object"==typeof exports?exports.VueDraggable=e():t.VueDraggable=e()}(this,function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var s=function(){for(var t=document.querySelectorAll(".item-dropzone-area"),e=0;e<t.length;e++)t[e].remove()},r=function(t,e,i){for(var s=i.length,r=0;r<s;r++)i[r]!==e.owner&&"none"===i[r].getAttribute("aria-dropeffect")&&(i[r].setAttribute("aria-dropeffect","move"),i[r].setAttribute("tabindex","0"));for(var n=t.length,o=0;o<n;o++)t[o].parentNode!==e.owner&&t[o].getAttribute("aria-grabbed")&&(t[o].removeAttribute("aria-grabbed"),t[o].removeAttribute("tabindex"))},n=function(t,e,i){if(e.items.length){for(var s=0;s<i.length;s++)"none"!==i[s].getAttribute("aria-dropeffect")&&(i[s].setAttribute("aria-dropeffect","none"),i[s].removeAttribute("tabindex"));for(var r=0;r<t.length;r++)t[r].getAttribute("aria-grabbed")?"true"===t[r].getAttribute("aria-grabbed")&&t[r].setAttribute("tabindex","0"):(t[r].setAttribute("aria-grabbed","false"),t[r].setAttribute("tabindex","0"))}},o=function(t){return t.ctrlKey||t.metaKey||t.shiftKey};function a(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var l=function(t){this.selections.owner||(this.selections.owner=t.parentNode),(this.defaultOptions.multipleDropzonesItemsDraggingEnabled||this.selections.owner===t.parentNode)&&(t.setAttribute("aria-grabbed","true"),this.selections.items=a(this.selections.items).concat([t]))},c=function(t){t.setAttribute("aria-grabbed","false");for(var e=0;e<this.selections.items.length;e++)if(this.selections.items[e]===t){this.selections.items.splice(e,1);break}},u=function(){if(this.selections.items.length){this.selections.owner=null;for(var t=0;t<this.selections.items.length;t++)this.selections.items[t].setAttribute("aria-grabbed","false");this.selections.items=[]}},f=function(){throw new Error("Requested D&D stop...")},d={previousTarget:null,dragoverCalls:0},h=function(t){this.selections.items.length&&t.preventDefault(),this.defaultOptions.showDropzoneAreas&&function(t){if(d.dragoverCalls%100==0||t.target!==d.previousTarget&&t.target&&"item-dropzone-area"!==t.target.className){d.dragoverCalls++,d.previousTarget=t.target,this.nextItemElement=t.target.closest(this.defaultOptions.draggableSelector),this.selections.droptarget=t.target.closest(this.defaultOptions.dropzoneSelector);var e=document.createElement("div");e.className="item-dropzone-area",s(),this.selections.droptarget&&this.nextItemElement&&this.selections.droptarget.insertBefore(e,d.previousTarget.closest(this.defaultOptions.draggableSelector)),this.selections.droptarget&&!this.nextItemElement&&this.selections.droptarget.appendChild(e)}}.bind(this)(t)};function g(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var b=function(t){var e=t.target.closest(this.defaultOptions.draggableSelector);if(this.defaultOptions.multipleDropzonesItemsDraggingEnabled||!e||this.selections.owner===e.parentNode){if("function"==typeof this.defaultOptions.onDragstart)try{this.defaultOptions.onDragstart(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),s.forEach(function(e){g(t,e,i[e])})}return t}({nativeEvent:t,stop:f},this.selections))}catch(e){return t.preventDefault(),void s()}o(t)&&"false"===e.getAttribute("aria-grabbed")&&l.bind(this)(e),t.dataTransfer.setData("text",""),r(this.items,this.selections,this.targets)}else t.preventDefault()};function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),s.forEach(function(e){m(t,e,i[e])})}return t}function m(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var v=function(t){var e=this;t.addEventListener("mousedown",function(t){var e=t.target.closest(this.defaultOptions.draggableSelector);e&&e.getAttribute("draggable")?(n(this.items,this.selections,this.targets),o(t)||"false"!==e.getAttribute("aria-grabbed")||(u.bind(this)(),l.bind(this)(e))):o(t)?n(this.items,this.selections,this.targets):(n(this.items,this.selections,this.targets),u.bind(this)())}.bind(this),!1),t.addEventListener("mouseup",function(t){var e=this,i=t.target.closest(this.defaultOptions.draggableSelector);if(i&&i.getAttribute("draggable")&&o(t))if(this.selections.items.length&&t.shiftKey){var s=this.selections.items.slice(-1).pop();this.items.forEach(function(t){(function(t,e,i){return t.parentNode===e.parentNode&&(e.offsetTop>i.offsetTop&&t.offsetTop<=e.offsetTop&&t.offsetTop>=i.offsetTop||t.offsetTop>=e.offsetTop&&t.offsetTop<=i.offsetTop)})(t,i,s)&&l.bind(e)(t)})}else"true"===i.getAttribute("aria-grabbed")?(c.bind(this)(i),this.selections.items.length||(this.selections.owner=null)):l.bind(this)(i)}.bind(this),!1),t.addEventListener("dragstart",b.bind(this),!1),t.addEventListener("keydown",function(t){if(t.target.getAttribute("aria-grabbed")&&(32===t.keyCode&&(o(t)?"true"===t.target.getAttribute("aria-grabbed")?(1===this.selections.items.length&&n(this.items,this.selections,this.targets),c.bind(this)(t.target),this.selections.items.length&&r(this.items,this.selections,this.targets),this.selections.items.length||(this.selections.owner=null)):(l.bind(this)(t.target),r(this.items,this.selections,this.targets)):"false"===t.target.getAttribute("aria-grabbed")?(n(this.items,this.selections,this.targets),u.bind(this)(),l.bind(this)(t.target),r(this.items,this.selections,this.targets)):r(this.items,this.selections,this.targets),t.preventDefault()),77===t.keyCode&&o(t))){if(this.selections.items.length)if(r(this.items,this.selections,this.targets),this.selections.owner===this.targets[this.targets.length-1])this.targets[0].focus();else for(var e=0;e<this.targets.length;e++)if(this.selections.owner===this.targets[e]){this.targets[e+1].focus();break}t.preventDefault()}if(27===t.keyCode&&this.selections.items.length&&(n(this.items,this.selections,this.targets),this.selections.items[this.selections.items.length-1].focus(),u.bind(this)()),t.target.getAttribute("aria-dropeffect")&&(13===t.keyCode||77===t.keyCode&&o(t))){for(var i=0;i<this.selections.items.length;i++)t.target.appendChild(this.selections.items[i]);n(this.items,this.selections,this.targets),this.selections.items[this.selections.items.length-1].focus(),u.bind(this)(),t.preventDefault()}}.bind(this),!1),t.addEventListener("dragenter",function(t){return function(t){this.related=t.target}.bind(e)(t)},!1),t.addEventListener("dragleave",function(){var t=function(t){var e=t;do{if(e&&1===e.nodeType&&e.getAttribute("aria-dropeffect"))return e}while(e=e?e.parentNode:null);return null}(this.related);t!==this.selections.droptarget&&(this.selections.droptarget&&(this.selections.droptarget.className=this.selections.droptarget.className.replace(/ dragover/g,"")),t&&(t.className+=" dragover"),this.selections.droptarget=t)}.bind(this),!1),document.addEventListener("dragover",h.bind(this),!1),t.addEventListener("dragend",function(t){if("function"==typeof this.defaultOptions.onDragend)try{this.defaultOptions.onDragend(p({nativeEvent:t,stop:f},this.selections))}catch(t){return void s()}if(this.selections.droptarget){for(var e=0;e<this.selections.items.length;e++)this.nextItemElement?this.selections.droptarget.insertBefore(this.selections.items[e],this.nextItemElement):this.selections.droptarget.appendChild(this.selections.items[e]);"function"==typeof this.defaultOptions.onDrop&&this.defaultOptions.onDrop(p({nativeEvent:t,stop:function(){throw new Error("Stop method is available only for callbacks\n                    'onDragstart' and 'onDragend'. For more info look at\n                    https://github.com/Vivify-Ideas/vue-draggable/blob/master/README.md\n                  ")}},this.selections)),t.preventDefault()}this.selections.items.length&&(n(this.items,this.selections,this.targets),this.selections.droptarget&&(u.bind(this)(),this.selections.droptarget.className=this.selections.droptarget.className.replace(/ dragover/g,""),this.selections.droptarget=null)),s()}.bind(this),!1)};function y(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var O=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),s.forEach(function(e){y(t,e,i[e])})}return t}({},{defaultOptions:{dropzoneSelector:"ul",draggableSelector:"li",multipleDropzonesItemsDraggingEnabled:!0,showDropzoneAreas:!0,onDrop:function(){},onDragstart:function(){},onDragend:function(){}},targets:null,items:null,nextItemElement:null,related:null,selections:{items:[],owner:null,droptarget:null}},{targets:null,items:null,nextItemElement:null,related:null,selections:{items:[],owner:null,droptarget:null}},{registerListeners:function(t){v.bind(this)(t)},initiate:function(t){(function(t){this.targets=function(t){return t.querySelectorAll(this.defaultOptions.dropzoneSelector)}.bind(this)(t),this.items=function(t){return t.querySelectorAll(this.defaultOptions.draggableSelector)}.bind(this)(t);for(var e=0;e<this.targets.length;e++)this.targets[e].setAttribute("aria-dropeffect","none");for(var i=0;i<this.items.length;i++)this.items[i].setAttribute("draggable","true"),this.items[i].setAttribute("aria-grabbed","false"),this.items[i].setAttribute("tabindex","0")}).bind(this)(t)}});i.d(e,"VueDraggableDirective",function(){return A});var A={bind:function(t,e){Object.assign(O.defaultOptions,e.value),O.registerListeners(t),O.initiate(t)},componentUpdated:function(t){setTimeout(function(){O.initiate(t)})}};O.install=function(t){t.directive("drag-and-drop",A)};e.default=O}])});
//# sourceMappingURL=vue-draggable.min.js.map